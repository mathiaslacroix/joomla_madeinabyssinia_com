(function(a,b){'use strict';a.localStorageEnabled=function(){try{return localStorage.setItem("joomla-cms","joomla-cms"),localStorage.removeItem("joomla-cms"),!0}catch(a){return!1}};var c=b.querySelectorAll("ul.main-nav");c.forEach(function(a){new MetisMenu(a)});var d=function(a,c){var d,e;for(["matches","msMatchesSelector"].some(function(a){return"function"==typeof b.body[a]&&(d=a,!0)});a;){if(e=a.parentElement,e&&e[d](c))return e;a=e}return null},e=b.getElementById("wrapper"),f=b.getElementById("sidebar-wrapper"),g=b.getElementById("menu-collapse-icon");if(a.localStorageEnabled()){var o=localStorage.getItem("atum-sidebar");"open"===o||null===o?(e.classList.remove("closed"),g.classList.remove("fa-toggle-off"),g.classList.add("fa-toggle-on"),localStorage.setItem("atum-sidebar","open"),a.Event.dispatch("joomla:menu-toggle","open")):(e.classList.add("closed"),g.classList.remove("fa-toggle-on"),g.classList.add("fa-toggle-off"),localStorage.setItem("atum-sidebar","closed"),a.Event.dispatch("joomla:menu-toggle","closed"))}if(f||e.classList.remove("closed"),f&&!f.getAttribute("data-hidden")){var h=b.getElementById("menu-collapse"),i=[].slice.call(f.querySelectorAll(".collapse-level-1"));i.forEach(function(a){var b=[].slice.call(a.querySelectorAll(".collapse-level-1"));b.forEach(function(a){a&&(a.classList.remove("collapse-level-1"),a.classList.add("collapse-level-2"))})});h.addEventListener("click",function(){e.classList.toggle("closed"),g.classList.toggle("fa-toggle-on"),g.classList.toggle("fa-toggle-off");var c=[].slice.call(b.querySelectorAll(".main-nav > li"));c.forEach(function(a){a.classList.remove("open")});var d=b.querySelector(".child-open");d&&d.classList.remove("child-open");var f=a.localStorageEnabled();e.classList.contains("closed")?(f&&localStorage.setItem("atum-sidebar","closed"),a.Event.dispatch("joomla:menu-toggle","closed")):(f&&localStorage.setItem("atum-sidebar","open"),a.Event.dispatch("joomla:menu-toggle","open"))});var j=e.querySelectorAll("a.no-dropdown, a.collapse-arrow, .menu-dashboard > a"),k=window.location.href.toLowerCase(),l=b.querySelector("ul.main-nav"),m=[].slice.call(l.querySelectorAll("li.parent > a")),n=[].slice.call(l.querySelectorAll("li.parent .close"));j.forEach(function(a){if(k===a.href&&(a.setAttribute("aria-current","page"),a.classList.add("mm-active"),!a.parentNode.classList.contains("parent"))){var b=d(a,".collapse-level-1"),c=d(a,".collapse-level-2");b&&b.parentNode.classList.add("mm-active"),b&&b.classList.add("mm-show"),c&&c.parentNode.classList.add("mm-active"),c&&c.classList.add("mm-show")}});var p=function(b){var c=b.currentTarget.parentNode;if("span"===c.tagName.toLowerCase()&&(c=b.currentTarget.parentNode.parentNode),c.classList.contains("open"))l.classList.remove("child-open"),c.classList.remove("open");else{var d=[].slice.call(c.parentNode.children);d.forEach(function(a){a.classList.remove("open")}),e.classList.remove("closed"),localStorage.setItem("atum-sidebar","open"),g.classList.contains("fa-toggle-off")&&(g.classList.toggle("fa-toggle-off"),g.classList.toggle("fa-toggle-on")),l.classList.add("child-open"),c.parentNode.classList.contains("main-nav")&&c.classList.add("open")}a.Event.dispatch("joomla:menu-toggle","open")};m.forEach(function(a){a.addEventListener("click",p),a.addEventListener("keyup",p)}),n.forEach(function(a){a.addEventListener("click",function(){var a=[].slice.call(l.querySelectorAll(".open"));a.forEach(function(a){a.classList.remove("open")}),l.classList.remove("child-open")})});var q=[].slice.call(f.querySelectorAll("ul[role=\"menubar\"] li"));q.forEach(function(a){a.addEventListener("keyup",function(a){(32===a.keyCode||13===a.keyCode)&&a.target.querySelector("a").click()})}),a.localStorageEnabled()&&"true"===localStorage.getItem("adminMenuState")&&function menuClose(){f.querySelector(".mm-collapse").classList.remove("mm-collapsed")}()}})(window.Joomla,document);