(function(a,b,c){var d="matches",e=function(a,b){for(var c,e=a;e;){if(c=e.parentElement,c&&c[d](b))return c;e=c}return null};c.unpublishModule=function(a){var b=a.getAttribute("data-module-id");c.request({url:"".concat("index.php?option=com_modules&task=modules.unpublish&format=json","&cid=").concat(b),method:"POST",headers:{"Content-Type":"application/json"},onSuccess:function onSuccess(){var b=e(a,".module-wrapper");b.parentNode.removeChild(b),c.renderMessages({message:[c.JText._("COM_CPANEL_UNPUBLISH_MODULE_SUCCESS")]})},onError:function onError(){c.renderMessages({error:[c.JText._("COM_CPANEL_UNPUBLISH_MODULE_ERROR")]})}})};var f=function(){["matches","msMatchesSelector"].some(function(a){return!("function"!=typeof b.body[a])&&(d=a,!0)});var a=b.getElementById("cpanel-modules");if(a){var e=[].slice.call(a.querySelectorAll(".unpublish-module"));e.forEach(function(a){a.addEventListener("click",function(a){return c.unpublishModule(a.target)})})}b.removeEventListener("DOMContentLoaded",f)};b.addEventListener("DOMContentLoaded",f)})(window,document,window.Joomla);