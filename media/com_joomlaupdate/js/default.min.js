Joomla=window.Joomla||{},function(e,t){"use strict";t.extractionMethodHandler=function(t,a){var n="direct"===t.value?"none":"table-row";e.getElementById(a+"_hostname").style.display=n,e.getElementById(a+"_port").style.display=n,e.getElementById(a+"_username").style.display=n,e.getElementById(a+"_password").style.display=n,e.getElementById(a+"_directory").style.display=n},t.submitbuttonUpload=function(){var a=e.getElementById("uploadForm");""==a.install_package.value?alert(t.JText._("COM_INSTALLER_MSG_INSTALL_PLEASE_SELECT_A_PACKAGE"),!0):a.submit()},e.addEventListener("DOMContentLoaded",function(){var a=e.getElementById("extraction_method"),n=e.getElementById("upload_method"),o=e.getElementById("uploadButton"),s=e.getElementById("downloadMessage");a&&a.addEventListener("change",function(e){t.extractionMethodHandler(a,"row_ftp")}),n&&n.addEventListener("change",function(e){t.extractionMethodHandler(n,"upload_ftp")}),o&&o.addEventListener("click",function(e){s&&(s.style.display="block")})})}(document,Joomla),function(e,t){var a={config:{serverUrl:"index.php?option=com_joomlaupdate&task=update.fetchextensioncompatibility",selector:".extension-check"},STATE:{INCOMPATIBLE:0,COMPATIBLE:1,MISSING_COMPATIBILITY_TAG:2,SERVER_ERROR:3},run:function(){a.joomlaTargetVersion=e.getElementById("joomlaupdate-wrapper").getAttribute("data-joomla-target-version"),[].slice.call(e.querySelectorAll(a.config.selector)).forEach(function(e){a.checkCompatibility(e,a.setResultView)})},checkCompatibility:function(e,n){var o={element:e,state:a.STATE.SERVER_ERROR,compatibleVersion:0};t.request({url:a.config.serverUrl,data:{"joomla-target-version":a.joomlaTargetVersion,"extension-id":e.getAttribute("data-extensionId")},onSuccess(t){var a=JSON.parse(t);o.state=a.data.state,o.compatibleVersion=a.data.compatibleVersion,o.currentVersion=e.getAttribute("data-extensionCurrentVersion"),n(o)},onError(){n(o)}})},setResultView:function(n){var o="",s=void 0!==e.dir?e.dir:e.getElementsByTagName("html")[0].getAttribute("dir");switch(n.state){case a.STATE.COMPATIBLE:o=n.compatibleVersion==n.currentVersion?'<span class="badge badge-success">'+t.JText._("JYES")+"</span>":"rtl"===s?'<span class="badge badge-warning">('+n.compatibleVersion+") "+t.JText._("JYES")+"</span>":'<span class="badge badge-warning">'+t.JText._("JYES")+" ("+n.compatibleVersion+")</span>";break;case a.STATE.INCOMPATIBLE:o='<span class="badge badge-danger">'+t.JText._("JNO")+"</span>";break;case a.STATE.MISSING_COMPATIBILITY_TAG:o='<span class="badge badge-secondary">'+t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_VERSION_MISSING")+"</span>";break;default:o='<span class="badge badge-secondary">'+t.JText._("COM_JOOMLAUPDATE_VIEW_DEFAULT_EXTENSION_WARNING_UNKNOWN")+"</span>"}n.element.innerHTML=o}};e.addEventListener("DOMContentLoaded",a.run,!1)}(document,Joomla);