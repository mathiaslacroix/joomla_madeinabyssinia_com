Joomla=window.Joomla||{},Joomla.toggleAllNextElements=function(a,b){var c=function getNextSiblings(a){var b=[];do b.push(a);while(null!==(a=a.nextElementSibling));return b}(a);c.length&&c.forEach(function(a){a.classList.contains(b)?a.classList.remove(b):a.classList.add(b)})},function(){'use strict';document.addEventListener("DOMContentLoaded",function(){function a(a,b){var c=Joomla.getOptions("articles.transitions")[b],d={},e=!1;if(void 0!==c&&(n.length&&n.forEach(function(a){var b=a.querySelectorAll("input[type=checkbox]")[0];if(b.checked){var f=b.closest("tr"),g=parseInt(f.getAttribute("data-stage_id"),10),h=parseInt(f.getAttribute("data-workflow_id"),10);if(d[b.value]=[],void 0===c[h])return;var i=0;if(void 0!==c[h][-1])for(var k=0;k<c[h][-1].length;k+=1)c[h][-1][k].to_stage_id!==g&&(d[b.value][i]=c[h][-1][k],i+=1);if(void 0!==c[h][g])for(var j=0;j<c[h][g].length;j+=1)c[h][g][j].to_stage_id!==g&&(d[b.value][i]=c[h][g][j],i+=1);1<d[b.value].length?e=!0:delete d[b.value]}}),e)){a.stopPropagation();var f=Joomla.getOptions("articles.items"),g="";m.setAttribute("data-submit-task","articles.".concat(b)),Object.keys(d).forEach(function(a){void 0!==f["article-".concat(a)]&&(g+="<div class=\"form-group col-md-6\">",g+="<label for=\"publish_transitions_".concat(a,"\">").concat(f["article-".concat(a)],"</label>"),g+="<select id=\"publish_transitions_".concat(a,"\" class=\"custom-select\" name=\"publish_transitions[").concat(a,"]\">"),Object.keys(d[a]).forEach(function(b){g+="<option value=\"".concat(d[a][b].value,"\">").concat(d[a][b].text,"</option>")}),g+="</select>",g+="</div>",g+="</div>")}),l.innerHTML=g,window.jQuery(k).modal()}}function b(a,b){b?a.classList.remove("disabled"):a.classList.add("disabled")}function c(){b(f,o),b(g,p),b(h,q),b(i,r)}function d(a){o=0<a.getAttribute("data-condition-publish")&&(0===s||o),p=0<a.getAttribute("data-condition-unpublish")&&(0===s||p),q=0<a.getAttribute("data-condition-archive")&&(0===s||q),r=0<a.getAttribute("data-condition-trash")&&(0===s||r)}var e=document.getElementById("toolbar-dropdown-status-group"),f=e.getElementsByClassName("button-publish")[0],g=e.getElementsByClassName("button-unpublish")[0],h=e.getElementsByClassName("button-archive")[0],i=e.getElementsByClassName("button-trash")[0],j=document.querySelector("#articleList"),k=document.getElementById("stageModal"),l=document.getElementById("stageModal-content"),m=document.getElementById("stage-submit-button-id"),n=[],o=!1,p=!1,q=!1,r=!1,s=0;j&&(n=[].slice.call(j.querySelectorAll("tbody tr"))),window.jQuery(k).on("hide.bs.modal",function(){l.innerHTML=""}),f.parentElement.addEventListener("click",function(b){f.classList.contains("disabled")?(b.stopImmediatePropagation(),Joomla.renderMessages({error:[Joomla.JText._("COM_CONTENT_ERROR_CANNOT_PUBlISH")]})):a(b,"publish")}),g.parentElement.addEventListener("click",function(b){g.classList.contains("disabled")?(b.stopImmediatePropagation(),Joomla.renderMessages({error:[Joomla.JText._("COM_CONTENT_ERROR_CANNOT_UNPUBlISH")]})):a(b,"unpublish")}),h.parentElement.addEventListener("click",function(b){h.classList.contains("disabled")?(b.stopImmediatePropagation(),Joomla.renderMessages({error:[Joomla.JText._("COM_CONTENT_ERROR_CANNOT_ARCHIVE")]})):a(b,"archive")}),i.parentElement.addEventListener("click",function(b){i.classList.contains("disabled")?(b.stopImmediatePropagation(),Joomla.renderMessages({error:[Joomla.JText._("COM_CONTENT_ERROR_CANNOT_TRASH")]})):a(b,"trash")}),j&&j.addEventListener("click",function(){n.forEach(function(a){var b=a.querySelectorAll("input[type=checkbox]")[0];if(b.checked){var c=b.closest("tr");d(c),s+=1}}),c(),s=0})})}();