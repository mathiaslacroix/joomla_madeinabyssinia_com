Joomla=window.Joomla||{},(a=>{'use strict';a.submitbutton=b=>{if("module.cancel"===b||document.formvalidator.isValid(document.getElementById("module-form"))){a.submitform(b,document.getElementById("module-form"));const c=a.getOptions("module-edit");if(window.self!==window.top){if(window.parent.viewLevels){const b=window.jQuery("#jform_position").chosen().val(),d=document.getElementById("jform_title").value,e=document.querySelector("#jform_assignment").value,f=document.querySelector("#jform_published").value,g=document.querySelector("#jform_access").value,h=window.parent.document.getElementById("menus-".concat(c.itemId)),i=window.parent.document.getElementById("tr-".concat(c.itemId)),j=window.parent.document.getElementById("status-".concat(c.itemId));window.parent.inMenus=[],window.parent.numMenus=[].slice.call(document.querySelectorAll("input[name=\"jform[assigned][]\"]")).length,[].slice.call(document.querySelectorAll("input[name=\"jform[assigned][]\"]")).forEach(a=>{0<e&&a.checked&&window.parent.inMenus.push(parseInt(a.value,10)),0>e&&!a.checked&&window.parent.inMenus.push(parseInt(a.value,10))}),"-"===e&&(h.innerHTML="<span class=\"badge badge-danger\">".concat(a.JText._("JNO"),"</span>"),(!i.classList.contains("no")||0===i.classList.length)&&i.classList.add("no")),0===parseInt(e,10)&&(h.innerHTML="<span class=\"badge badge-info\">".concat(a.JText._("JALL"),"</span>"),i.classList.contains("no")&&i.classList.remove("no")),0<parseInt(e,10)&&(0<=window.parent.inMenus.indexOf(window.parent.menuId)&&(window.parent.numMenus===window.parent.inMenus.length?(h.innerHTML="<span class=\"badge badge-info\">".concat(a.JText._("JALL"),"</span>"),(i.classList.contains("no")||0===i.classList.length)&&i.classList.remove("no")):(h.innerHTML="<span class=\"badge badge-success\">".concat(a.JText._("JYES"),"</span>"),i.classList.contains("no")&&i.classList.remove("no"))),0>window.parent.inMenus.indexOf(window.parent.menuId)&&(h.innerHTML="<span class=\"badge badge-danger\">".concat(a.JText._("JNO"),"</span>"),!i.classList.contains("no")&&i.classList.add("no"))),0>parseInt(e,10)&&(0<=window.parent.inMenus.indexOf(window.parent.menuId)&&(window.parent.numMenus===window.parent.inMenus.length?(h.innerHTML="<span class=\"badge badge-info\">".concat(a.JText._("JALL"),"</span>"),i.classList.contains("no")&&i.classList.remove("no")):(h.innerHTML="<span class=\"badge badge-success\">".concat(a.JText._("JYES"),"</span>"),i.classList.contains("no")&&i.classList.remove("no"))),0>window.parent.inMenus.indexOf(window.parent.menuId)&&(h.innerHTML="<span class=\"badge badge-danger\">".concat(a.JText._("JNO"),"</span>"),(!i.classList.contains("no")||0===i.classList.length)&&i.classList.add("no"))),1===parseInt(f,10)&&(j.innerHTML="<span class=\"badge badge-success\">".concat(a.JText._("JYES"),"</span>"),i.classList.contains("unpublished")&&i.classList.remove("unpublished")),0===parseInt(f,10)&&(j.innerHTML="<span class=\"badge badge-danger\">".concat(a.JText._("JNO"),"</span>"),(!i.classList.contains("unpublished")||0===i.classList.length)&&i.classList.add("unpublished")),-2===parseInt(f,10)&&(j.innerHTML="<span class=\"badge badge-default\">".concat(a.JText._("JTRASHED"),"</span>"),(!i.classList.contains("unpublished")||0===i.classList.length)&&i.classList.add("unpublished")),document.formvalidator.isValid(document.getElementById("module-form"))&&(window.parent.document.querySelector("#title-".concat(c.itemId)).innerText=d,window.parent.document.querySelector("#position-".concat(c.itemId)).innerText=b,window.parent.document.querySelector("#access-".concat(c.itemId)).innerHTML=window.parent.viewLevels[g])}"module.apply"!==b&&window.parent.Joomla.Modal.getCurrent().close()}}}})(Joomla);