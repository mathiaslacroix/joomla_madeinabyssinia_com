((a,b)=>{'use strict';a.localStorageEnabled=()=>{const a="joomla-cms";try{return localStorage.setItem(a,a),localStorage.removeItem(a),!0}catch(a){return!1}};const c=b.querySelectorAll("ul.main-nav");c.forEach(a=>{new MetisMenu(a)});const d=(a,c)=>{let d,e;for(["matches","msMatchesSelector"].some(a=>"function"==typeof b.body[a]&&(d=a,!0));a;){if(e=a.parentElement,e&&e[d](c))return e;a=e}return null},e=b.getElementById("wrapper"),f=b.getElementById("sidebar-wrapper"),g=b.getElementById("menu-collapse-icon");if(a.localStorageEnabled()){const b=localStorage.getItem("atum-sidebar");"open"===b||null===b?(e.classList.remove("closed"),g.classList.remove("fa-toggle-off"),g.classList.add("fa-toggle-on"),localStorage.setItem("atum-sidebar","open"),a.Event.dispatch("joomla:menu-toggle","open")):(e.classList.add("closed"),g.classList.remove("fa-toggle-on"),g.classList.add("fa-toggle-off"),localStorage.setItem("atum-sidebar","closed"),a.Event.dispatch("joomla:menu-toggle","closed"))}if(f||e.classList.remove("closed"),f&&!f.getAttribute("data-hidden")){const c=b.getElementById("menu-collapse"),h=[].slice.call(f.querySelectorAll(".collapse-level-1"));h.forEach(a=>{const b=[].slice.call(a.querySelectorAll(".collapse-level-1"));b.forEach(a=>{a&&(a.classList.remove("collapse-level-1"),a.classList.add("collapse-level-2"))})});c.addEventListener("click",()=>{e.classList.toggle("closed"),g.classList.toggle("fa-toggle-on"),g.classList.toggle("fa-toggle-off");const c=[].slice.call(b.querySelectorAll(".main-nav > li"));c.forEach(a=>{a.classList.remove("open")});const d=b.querySelector(".child-open");d&&d.classList.remove("child-open");const f=a.localStorageEnabled();e.classList.contains("closed")?(f&&localStorage.setItem("atum-sidebar","closed"),a.Event.dispatch("joomla:menu-toggle","closed")):(f&&localStorage.setItem("atum-sidebar","open"),a.Event.dispatch("joomla:menu-toggle","open"))});const i=e.querySelectorAll("a.no-dropdown, a.collapse-arrow, .menu-dashboard > a"),j=window.location.href.toLowerCase(),k=b.querySelector("ul.main-nav"),l=[].slice.call(k.querySelectorAll("li.parent > a")),m=[].slice.call(k.querySelectorAll("li.parent .close"));i.forEach(a=>{if(j===a.href&&(a.setAttribute("aria-current","page"),a.classList.add("mm-active"),!a.parentNode.classList.contains("parent"))){const b=d(a,".collapse-level-1"),c=d(a,".collapse-level-2");b&&b.parentNode.classList.add("mm-active"),b&&b.classList.add("mm-show"),c&&c.parentNode.classList.add("mm-active"),c&&c.classList.add("mm-show")}});const n=b=>{let c=b.currentTarget.parentNode;if("span"===c.tagName.toLowerCase()&&(c=b.currentTarget.parentNode.parentNode),c.classList.contains("open"))k.classList.remove("child-open"),c.classList.remove("open");else{const a=[].slice.call(c.parentNode.children);a.forEach(a=>{a.classList.remove("open")}),e.classList.remove("closed"),localStorage.setItem("atum-sidebar","open"),g.classList.contains("fa-toggle-off")&&(g.classList.toggle("fa-toggle-off"),g.classList.toggle("fa-toggle-on")),k.classList.add("child-open"),c.parentNode.classList.contains("main-nav")&&c.classList.add("open")}a.Event.dispatch("joomla:menu-toggle","open")};l.forEach(a=>{a.addEventListener("click",n),a.addEventListener("keyup",n)}),m.forEach(a=>{a.addEventListener("click",()=>{const a=[].slice.call(k.querySelectorAll(".open"));a.forEach(a=>{a.classList.remove("open")}),k.classList.remove("child-open")})});const o=[].slice.call(f.querySelectorAll("ul[role=\"menubar\"] li"));o.forEach(a=>{a.addEventListener("keyup",a=>{(32===a.keyCode||13===a.keyCode)&&a.target.querySelector("a").click()})}),a.localStorageEnabled()&&"true"===localStorage.getItem("adminMenuState")&&(()=>{f.querySelector(".mm-collapse").classList.remove("mm-collapsed")})()}})(window.Joomla,document);